<mat-card class="cadastro-card new-form">
  <h2>Cadastro de Policial Militar</h2>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-grid">
      <div class="form-row">
        <label class="field-label">RG Civil*</label>
        <mat-form-field appearance="outline" class="field">
          <mat-icon matPrefix>badge</mat-icon>
          <input matInput formControlName="rg_civil" maxlength="20" placeholder="" aria-label="RG Civil">
        </mat-form-field>
        <div class="field-error" *ngIf="form.get('rg_civil')?.hasError('required')">RG Civil é obrigatório</div>
      </div>

      <div class="form-row">
        <label class="field-label">RG Militar*</label>
        <mat-form-field appearance="outline" class="field">
          <mat-icon matPrefix>badge</mat-icon>
          <input matInput formControlName="rg_militar" maxlength="20" placeholder="" aria-label="RG Militar">
        </mat-form-field>
        <div class="field-error" *ngIf="form.get('rg_militar')?.hasError('required')">RG Militar é obrigatório</div>
      </div>

      <div class="form-row">
        <label class="field-label">CPF*</label>
        <mat-form-field appearance="outline" class="field">
          <mat-icon matPrefix>account_circle</mat-icon>
          <input matInput formControlName="cpf" maxlength="14" placeholder="" aria-label="CPF">
        </mat-form-field>
        <div class="field-error" *ngIf="form.get('cpf')?.hasError('required')">CPF é obrigatório</div>
        <div class="field-error" *ngIf="form.get('cpf')?.hasError('cpfInvalido')">CPF inválido</div>
      </div>

      <div class="form-row">
        <label class="field-label">Data de Nascimento*</label>
        <mat-form-field appearance="outline" class="field">
          <mat-icon matPrefix>cake</mat-icon>
          <input matInput formControlName="data_nascimento" type="date" placeholder="" aria-label="Data de Nascimento">
        </mat-form-field>
        <div class="field-error" *ngIf="form.get('data_nascimento')?.hasError('required')">Data de nascimento é obrigatória</div>
      </div>

      <div class="form-row">
        <label class="field-label">Matrícula*</label>
        <mat-form-field appearance="outline" class="field">
          <mat-icon matPrefix>contacts</mat-icon>
          <input matInput formControlName="matricula" maxlength="50" placeholder="" aria-label="Matrícula">
        </mat-form-field>
        <div class="field-error" *ngIf="form.get('matricula')?.hasError('required')">Matrícula é obrigatória</div>
      </div>
    </div>

    <div class="actions actions-right">
      <button mat-flat-button color="primary" class="btn-cadastrar" type="submit" [disabled]="form.invalid || loading">
        <mat-icon class="icon-left">person_add</mat-icon>
        <span>{{ loading ? 'Enviando...' : 'Cadastrar' }}</span>
      </button>
    </div>
  </form>
</mat-card>
