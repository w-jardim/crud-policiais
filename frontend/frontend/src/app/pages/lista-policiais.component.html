<mat-card class="lista-card">
  <div class="card-header">
    <h2>Policiais Militares Cadastrados</h2>
    <div class="header-actions">
      <button mat-stroked-button color="primary" class="btn-atualizar" (click)="carregar()" [disabled]="loading" aria-label="Atualizar lista">
        <mat-icon class="icon-left">refresh</mat-icon>
        <span>Atualizar</span>
      </button>
    </div>
  </div>
  <div class="filtros">
  <mat-form-field appearance="fill" floatLabel="always" class="input-wrap">
      <mat-label>Filtrar por CPF</mat-label>
      <input matInput [formControl]="filtroCpf" maxlength="14">
    </mat-form-field>
  <mat-form-field appearance="fill" floatLabel="always" class="input-wrap">
      <mat-label>Filtrar por RG</mat-label>
      <input matInput [formControl]="filtroRg" maxlength="20">
    </mat-form-field>
  <div class="actions"></div>
  </div>
  <div *ngIf="loading" class="loading">Carregando...</div>

  <div class="card-grid" *ngIf="!loading && filtrados.length">
    <mat-card class="policial-card" *ngFor="let p of filtrados" role="article">
      <div class="card-top">
        <div class="policial-title">Matr√≠cula: <strong>{{ p.matricula || '-' }}</strong></div>
        <div class="card-actions">
          <button mat-icon-button aria-label="Editar" title="Editar" disabled>
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" aria-label="Remover" title="Remover" disabled>
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>

      <div class="card-body">
        <div class="field"><span class="label">RG Civil</span><span class="value">{{ p.rg_civil }}</span></div>
        <div class="field"><span class="label">RG Militar</span><span class="value">{{ p.rg_militar }}</span></div>
        <div class="field"><span class="label">CPF</span><span class="value">{{ p.cpf }}</span></div>
        <div class="field"><span class="label">Nascimento</span><span class="value">{{ p.data_nascimento | date:'dd/MM/yyyy' }}</span></div>
      </div>
    </mat-card>
  </div>

  <div *ngIf="!loading && !filtrados.length" class="nenhum">Nenhum policial encontrado.</div>
</mat-card>
