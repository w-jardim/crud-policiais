<mat-card class="lista-card">
  <h2>Policiais Militares Cadastrados</h2>
  <div class="filtros">
    <mat-form-field appearance="outline">
      <mat-label>Filtrar por CPF</mat-label>
      <input matInput [formControl]="filtroCpf" maxlength="14">
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Filtrar por RG</mat-label>
      <input matInput [formControl]="filtroRg" maxlength="20">
    </mat-form-field>
    <div class="actions">
      <button mat-raised-button color="accent" class="btn-atualizar" (click)="carregar()" [disabled]="loading" aria-label="Atualizar lista">
        <mat-icon class="icon-left">refresh</mat-icon>
        <span *ngIf="!loading">Atualizar</span>
        <mat-progress-spinner *ngIf="loading" diameter="20" mode="indeterminate" color="primary" strokeWidth="3"></mat-progress-spinner>
      </button>
    </div>
  </div>
  <div *ngIf="loading" class="loading">Carregando...</div>
  <table mat-table [dataSource]="filtrados" class="mat-elevation-z2" *ngIf="!loading && filtrados.length">
    <ng-container matColumnDef="rg_civil">
      <th mat-header-cell *matHeaderCellDef>RG Civil</th>
      <td mat-cell *matCellDef="let p">{{ p.rg_civil }}</td>
    </ng-container>
    <ng-container matColumnDef="rg_militar">
      <th mat-header-cell *matHeaderCellDef>RG Militar</th>
      <td mat-cell *matCellDef="let p">{{ p.rg_militar }}</td>
    </ng-container>
    <ng-container matColumnDef="cpf">
      <th mat-header-cell *matHeaderCellDef>CPF</th>
      <td mat-cell *matCellDef="let p">{{ p.cpf }}</td>
    </ng-container>
    <ng-container matColumnDef="data_nascimento">
      <th mat-header-cell *matHeaderCellDef>Data de Nascimento</th>
      <td mat-cell *matCellDef="let p">{{ p.data_nascimento | date:'dd/MM/yyyy' }}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <div *ngIf="!loading && !filtrados.length" class="nenhum">Nenhum policial encontrado.</div>
</mat-card>
